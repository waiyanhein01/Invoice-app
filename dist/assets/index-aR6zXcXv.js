(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const s=document.querySelector("#createForm"),m=document.querySelector("#productSelect");document.querySelector("#inputQuantity");const f=document.querySelector("#rowTemplate"),i=document.querySelector("#rowGroup"),S=document.querySelector("#totalCost");document.querySelector(".row-del-btn");document.querySelector("#inventorySheet");const q=document.querySelector("#manageInventoryBtn"),g=document.querySelector("#inventorySheetCloseBtn"),y=document.querySelector("#productGroup"),v=document.querySelector("#productTemplate");document.querySelector(".product-add-name");document.querySelector(".product-add-price");const b=document.querySelector(".product-add-btn"),l=document.querySelector("#addProductForm"),T=document.querySelector("#printBtn"),w=({name:t,price:r})=>{const o=v.content.cloneNode(!0);return o.querySelector(".product-name").innerText=t,o.querySelector(".product-price").innerText=r,o},L=t=>{t.forEach(({name:r,id:o,price:c})=>{m.append(new Option(r,o)),y.append(w({name:r,price:c}))})},a=[{id:1,name:"Apple",price:400},{id:2,name:"Orange",price:550},{id:3,name:"Mango",price:650},{id:4,name:"Grape",price:700},{id:5,name:"Banana",price:200}],x=()=>{L(a)},h=({id:t,name:r,price:o},c)=>{const e=f.content.cloneNode(!0),n=o*c;return e.querySelector(".row").setAttribute("row-product-id",t),e.querySelector(".row-product-name").innerText=r,e.querySelector(".row-price").innerText=o,e.querySelector(".row-quantity").innerText=c,e.querySelector(".row-cost").innerText=n,e},O=()=>{const t=document.querySelectorAll(".row-cost");S.innerText=[...t].reduce((r,{innerText:o})=>r+parseFloat(o),0)},P=t=>{const r=t.target.closest(".row");confirm("Are u sure want to delete?")&&r.remove()},u=(t,r)=>{const o=document.querySelector(`[row-product-id="${t}"]`),c=o.querySelector(".row-quantity"),e=o.querySelector(".row-cost"),n=o.querySelector(".row-price");(r>0||c.innerText>1)&&(c.innerText=parseInt(c.innerText)+r,e.innerText=n.innerText*c.innerText)},B=()=>{const t=()=>{O()},r={childList:!0,subtree:!0};new MutationObserver(t).observe(i,r)},I=t=>{t.preventDefault();const r=new FormData(s),o=parseInt(r.get("productSelect")),c=a.find(d=>d.id===o),e=parseInt(r.get("inputQuantity")),n=document.querySelector(`[row-product-id="${o}"]`);n?u(n.getAttribute("row-product-id"),e):i.append(h(c,e)),s.reset()},A=t=>{t.target.classList.contains("row-del-btn")?P(t):t.target.classList.contains("add-record")?u(t.target.closest(".row").getAttribute("row-product-id"),1):t.target.classList.contains("sub-record")&&u(t.target.closest(".row").getAttribute("row-product-id"),-1)},p=()=>{inventorySheet.classList.toggle("-translate-x-full")},E=t=>{t.preventDefault();const r=new FormData(l),o={id:Date.now(),name:r.get("product_add_name"),price:r.get("product_add_price")};y.append(w(o)),m.append(new Option(o.name,o.id)),a.push(o),l.reset()},F=()=>{window.print()},R=()=>{s.addEventListener("submit",I),i.addEventListener("click",A),q.addEventListener("click",p),g.addEventListener("click",p),b.addEventListener("click",E),T.addEventListener("click",F)},C=()=>{B()};class D{init(){x(),R(),C()}}const G=new D;G.init();
